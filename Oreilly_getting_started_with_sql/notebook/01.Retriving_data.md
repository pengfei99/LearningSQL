# 1. Retriving Data with SQL

## 1.1 Use select to retrive data

Suppose you have already connected to the **rexon_metals.db** with a sql client.

Below commands retrive all columns and rows of table customer. Note sql is **not case sensitive**, so the two select will output exactly the same result 
```sql
select * from customer;
SELECT * FROM CUSTOMER;    
```

here * means all columns, customer is the name of the table. We now want to check the content of table product

```sql
select * from product;
```

### 1.1.1 Select specific columns

We can also give column names to retrive data from specific columns. Below command only retrives data of column product_id and price.

```sql
select product_id, price from product;
```

### 1.1.2 Do operations on selected columns
We can also perform operations (e.g mathematical operators(+,-,*,/,%), text operators(||, ),sql operators(count(), round, etc.), etc.) on a column.

For example, suppose the taxe rate of a product is 15%, below command will get not only the price, but also the tax of the product
```sql
select product_id, price, price*0.15 as tax from product;
```

Note, inside the operation, you can not use result that is calculated at the same time, for example below query is wrong, because
tax is calculated at the same time of total_price. And there is no guaraty that the tax will finish before total_price. So total_price
can not use tax as input argument.

```sql
-- wrong query
select product_id, price, price*0.15 as tax, price+tax as total_price from product;

-- correct query
select product_id, price, price*1.15 as total_price from product;
```

**Note, don't use space in column name, alias or whatever, use _ instead. Because sql consider space as delimiter of string.** 

### 1.1.3 Multiple operations on selected columns
We can also combine multi operations on a column. Below query get the total price but only keeps two digits after ,

```sql
select product_id, price, round(price*1.15,2) as total_price from product;
```

### 1.1.3 Rename output column 

In the above example, the column price and total_price are confusing. So we want to rename them as **UNTAXED_PRICE and TAXED_PRICE**.

```sql
select product_id, price as UNTAXED_PRICE, price*1.15 as TAXED_PRICE from product;
```
## 1.2 Text concatenation

We have seen arithmetic operator above, we can also apply text operator on columns. For instance, you can concatenate the CITY and STATE fields from the CUSTOMER table as well as put a comma and space between them to create a LOCATION value

The **||** is the text concatenation operator, it can concate two string to one. Below query uses two concatenation operator to concate
three string (i.e. city, ", " and state) 

```sql
-- a partial address
select name, city || ", " || state from customer;

-- full address
SELECT NAME,
STREET_ADDRESS || ' ' || CITY || ', ' || STATE || ' ' || ZIP AS SHIP_ADDRESS
FROM CUSTOMER;
```



